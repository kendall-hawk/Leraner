<!-- 介绍区块 - 纯文本 -->
    <section class="content-block" data-content-type="text-only">
        <div class="content-meta">
            <span class="text-indicator">📝 文章介绍</span>
            <span class="word-count">无音频内容</span>
        </div>
        
        <div class="text-content">
            <h2>Introduction</h2>
            <p>Have you heard the story that Marco Polo brought noodles back to Italy, leading to the <span class="word-clickable" data-word="invention">invention</span> of pasta? Do you think it's true? Neil and Beth discuss this and teach you some new vocabulary.</p>
            
            <h3>This week's question</h3>
            <p>Which region of China is famous for its spicy flavours?</p>
            <ul>
                <li>a) Shanghai</li>
                <li>b) Sichuan</li>
                <li>c) Guangzhou</li>
            </ul>
            <p>Listen to the programme to hear the answer.</p>
        </div>
    </section>

    <!-- 主要对话内容 - 音频同步 -->
    <section class="content-block" data-content-type="audio-synced">
        <div class="content-meta">
            <span class="audio-indicator">🎵 音频同步内容</span>
            <span class="duration">时长: 6:07</span>
            <span class="sync-note">支持句子级实时高亮</span>
        </div>
        
        <!-- 音频播放器 -->
        <div class="audio-player-container">
            <audio class="audio-player" id="article-audio" preload="metadata" controls>
                <source src="audio/noodles_world.mp3" type="audio/mpeg">
                您的浏览器不支持音频播放
            </audio>
        </div>
        
        <!-- 同步文本内容 -->
        <div class="synced-content">
            <p data-subtitle-index="1" data-start="7.76" data-end="12.16">
                <span class="speaker">Neil:</span> Hello, this is 6 Minute English from BBC Learning English. I'm Neil.
            </p>
            
            <p data-subtitle-index="2" data-start="12.16" data-end="13.44">
                <span class="speaker">Beth:</span> And I'm Beth.
            </p>
            
            <p data-subtitle-index="3" data-start="13.44" data-end="16.32">
                <span class="speaker">Neil:</span> Do you enjoy eating noodles, Beth?
            </p>
            
            <p data-subtitle-index="4" data-start="16.32" data-end="18.84">
                <span class="speaker">Beth:</span> I love noodles, yes.
            </p>
            
            <p data-subtitle-index="5" data-start="18.84" data-end="22.12">
                <span class="speaker">Beth:</span> I think my favourite are udon – the big thick ones.
            </p>
            
            <p data-subtitle-index="6" data-start="22.12" data-end="23.40">
                <span class="speaker">Beth:</span> Mmm, they're so good!
            </p>
            
            <p data-subtitle-index="7" data-start="23.40" data-end="26.12">
                <span class="speaker">Beth:</span> Well, some people buy them dried in a packet,
            </p>
            
            <p data-subtitle-index="8" data-start="26.12" data-end="29.36">
                <span class="speaker">Beth:</span> others make them <span class="word-clickable" data-word="fresh">fresh</span> from wheat or rice,
            </p>
            
            <p data-subtitle-index="9" data-start="29.36" data-end="33.56">
                <span class="speaker">Beth:</span> but there is little doubt that noodles are <span class="word-clickable" data-word="popular">popular</span> around the world.
            </p>
            
            <p data-subtitle-index="10" data-start="33.56" data-end="37.00">
                <span class="speaker">Beth:</span> From their <span class="word-clickable" data-word="origins">origins</span>, probably somewhere in China,
            </p>
            
            <p data-subtitle-index="11" data-start="37.00" data-end="41.64">
                <span class="speaker">Beth:</span> noodle <span class="word-clickable" data-word="recipes">recipes</span> were <span class="word-clickable" data-word="spread">spread</span> by <span class="word-clickable" data-word="traders">traders</span> on the ancient Silk Road.
            </p>
            
            <p data-subtitle-index="12" data-start="41.64" data-end="45.96">
                <span class="speaker">Beth:</span> At each <span class="word-clickable" data-word="destination">destination</span> along the road, people gave noodles a twist,
            </p>
            
            <p data-subtitle-index="13" data-start="45.96" data-end="50.00">
                <span class="speaker">Beth:</span> adding different <span class="word-clickable" data-word="flavour">flavours</span> and <span class="word-clickable" data-word="ingredients">ingredients</span> to create a new dish.
            </p>
            
            <p data-subtitle-index="14" data-start="50.00" data-end="53.80">
                <span class="speaker">Neil:</span> In this programme, we'll visit the United States and Japan,
            </p>
            
            <p data-subtitle-index="15" data-start="53.80" data-end="58.68">
                <span class="speaker">Neil:</span> two countries which have taken noodles and created exciting new <span class="word-clickable" data-word="varieties">varieties</span>.
            </p>

            <p data-subtitle-index="16" data-start="58.68" data-end="61.52">
                <span class="speaker">Neil:</span> As usual, we'll learn some useful new vocabulary
            </p>

            <p data-subtitle-index="17" data-start="61.52" data-end="65.40">
                <span class="speaker">Neil:</span> and remember – you can read along with the transcript of this programme,
            </p>

            <p data-subtitle-index="18" data-start="65.40" data-end="69.24">
                <span class="speaker">Neil:</span> available now on our website, bbclearningenglish.com
            </p>

            <p data-subtitle-index="19" data-start="69.24" data-end="72.08">
                <span class="speaker">Beth:</span> But first, Neil, I have a question for you.
            </p>

            <p data-subtitle-index="20" data-start="72.08" data-end="74.68">
                <span class="speaker">Beth:</span> As well as different shapes and <span class="word-clickable" data-word="ingredients">ingredients</span>,
            </p>

            <p data-subtitle-index="21" data-start="74.68" data-end="77.72">
                <span class="speaker">Beth:</span> noodles come in many different <span class="word-clickable" data-word="flavour">flavours</span>.
            </p>

            <p data-subtitle-index="22" data-start="77.72" data-end="82.88">
                <span class="speaker">Beth:</span> So, which region of China is famous for its spicy <span class="word-clickable" data-word="flavour">flavours</span>?
            </p>

            <p data-subtitle-index="23" data-start="82.88" data-end="90.20">
                <span class="speaker">Beth:</span> Is it: a) Shanghai, b) Sichuan, or c) Guangzhou?
            </p>

            <p data-subtitle-index="24" data-start="90.20" data-end="94.08">
                <span class="speaker">Neil:</span> Well, I think actually, Beth, I know the answer to this.
            </p>

            <p data-subtitle-index="25" data-start="94.08" data-end="97.28">
                <span class="speaker">Neil:</span> I've been lucky enough to have been to this place.
            </p>

            <p data-subtitle-index="26" data-start="97.28" data-end="99.56">
                <span class="speaker">Neil:</span> I think it's b) Sichuan.
            </p>

            <p data-subtitle-index="27" data-start="99.56" data-end="101.36">
                <span class="speaker">Beth:</span> OK. Well, you sound confident.
            </p>

            <p data-subtitle-index="28" data-start="101.36" data-end="104.52">
                <span class="speaker">Beth:</span> I will reveal the answer later in the programme.
            </p>

            <p data-subtitle-index="29" data-start="104.52" data-end="107.48">
                <span class="speaker">Beth:</span> BBC World Service programme, The Food Chain,
            </p>

            <p data-subtitle-index="30" data-start="107.48" data-end="112.88">
                <span class="speaker">Beth:</span> <span class="word-clickable" data-word="investigated">investigated</span> how noodles <span class="word-clickable" data-word="spread">spread</span> from Asia through Europe to America.
            </p>

            <p data-subtitle-index="31" data-start="112.88" data-end="116.48">
                <span class="speaker">Beth:</span> They <span class="word-clickable" data-word="uncovered">uncovered</span> a surprising story that pasta comes
            </p>

            <p data-subtitle-index="32" data-start="116.48" data-end="121.92">
                <span class="speaker">Beth:</span> from noodles brought back to Italy by Marco Polo in the 13th century.
            </p>

            <p data-subtitle-index="33" data-start="121.92" data-end="124.16">
                <span class="speaker">Beth:</span> Jen Lin-Liu, author of the book,
            </p>

            <p data-subtitle-index="34" data-start="124.16" data-end="127.84">
                <span class="speaker">Beth:</span> 'On the Noodle Road', doesn't believe this story.
            </p>

            <p data-subtitle-index="35" data-start="127.84" data-end="134.24">
                <span class="speaker">Jen Lin-Liu:</span> So, noodles were very <span class="word-clickable" data-word="exotic">exotic</span> in the 1920s and 30s in the United States,
            </p>

            <p data-subtitle-index="36" data-start="134.24" data-end="137.96">
                <span class="speaker">Jen Lin-Liu:</span> and there was a new pasta <span class="word-clickable" data-word="association">association</span> in America
            </p>

            <p data-subtitle-index="37" data-start="137.96" data-end="142.88">
                <span class="speaker">Jen Lin-Liu:</span> that wanted to <span class="word-clickable" data-word="promote">promote</span> the <span class="word-clickable" data-word="manufacturing">manufacturing</span> of dried pasta.
            </p>

            <p data-subtitle-index="38" data-start="142.88" data-end="145.88">
                <span class="speaker">Jen Lin-Liu:</span> And so they came up with a story
            </p>

            <p data-subtitle-index="39" data-start="145.88" data-end="148.88">
                <span class="speaker">Jen Lin-Liu:</span> about how Marco Polo went to China
            </p>

            <p data-subtitle-index="40" data-start="148.88" data-end="151.00">
                <span class="speaker">Jen Lin-Liu:</span> and found the noodle there,
            </p>

            <p data-subtitle-index="41" data-start="151.00" data-end="153.12">
                <span class="speaker">Jen Lin-Liu:</span> and brought it all the way to Italy.
            </p>

            <p data-subtitle-index="42" data-start="153.12" data-end="157.00">
                <span class="speaker">Neil:</span> In the 1920s, noodles were <span class="word-clickable" data-word="popular">popular</span> because they were <span class="word-clickable" data-word="exotic">exotic</span>,
            </p>

            <p data-subtitle-index="43" data-start="157.00" data-end="160.12">
                <span class="speaker">Neil:</span> <span class="word-clickable" data-word="meaning">meaning</span> <span class="word-clickable" data-word="foreign">foreign</span>, unusual and exciting.
            </p>

            <p data-subtitle-index="44" data-start="160.12" data-end="165.04">
                <span class="speaker">Neil:</span> At that time, pasta companies were promoting a new <span class="word-clickable" data-word="invention">invention</span>, dried pasta,
            </p>

            <p data-subtitle-index="45" data-start="165.04" data-end="169.88">
                <span class="speaker">Neil:</span> so they came up with a story about Marco Polo to sell more pasta.
            </p>

            <p data-subtitle-index="46" data-start="169.88" data-end="173.80">
                <span class="speaker">Neil:</span> If you come up with something you suggest or think up an idea.
            </p>

            <p data-subtitle-index="47" data-start="173.80" data-end="177.28">
                <span class="speaker">Neil:</span> And it worked – sales of pasta jumped as a result!
            </p>

            <p data-subtitle-index="48" data-start="177.28" data-end="182.96">
                <span class="speaker">Beth:</span> Now, our second <span class="word-clickable" data-word="destination">destination</span>, Japan, also has a history of eating noodles.
            </p>

            <p data-subtitle-index="49" data-start="182.96" data-end="186.96">
                <span class="speaker">Beth:</span> One of the most famous Japanese noodle dishes is ramen,
            </p>

            <p data-subtitle-index="50" data-start="186.96" data-end="191.88">
                <span class="speaker">Beth:</span> and Frank Striegl, a blogger living in Tokyo, knows all about it.
            </p>

            <p data-subtitle-index="51" data-start="191.88" data-end="195.88">
                <span class="speaker">Beth:</span> He eats over 300 bowls of ramen a year!
            </p>

            <p data-subtitle-index="52" data-start="195.88" data-end="200.92">
                <span class="speaker">Beth:</span> He explained to BBC World Service's The Food Chain how Chinese immigrants
            </p>

            <p data-subtitle-index="53" data-start="200.92" data-end="205.92">
                <span class="speaker">Beth:</span> to Japan in the late 1800s influenced this Japanese dish.
            </p>

            <p data-subtitle-index="54" data-start="205.92" data-end="211.28">
                <span class="speaker">Frank Striegl:</span> And at one point or another, different chefs decided to <span class="word-clickable" data-word="localise">localise</span> these dishes.
            </p>

            <p data-subtitle-index="55" data-start="211.28" data-end="213.16">
                <span class="speaker">Frank Striegl:</span> They said, "We love these Chinese noodle dishes.
            </p>

            <p data-subtitle-index="56" data-start="213.16" data-end="215.24">
                <span class="speaker">Frank Striegl:</span> However, why don't we tweak them?
            </p>

            <p data-subtitle-index="57" data-start="215.24" data-end="217.76">
                <span class="speaker">Frank Striegl:</span> Why don't we make them a little bit more Japanese?"
            </p>

            <p data-subtitle-index="58" data-start="217.76" data-end="221.28">
                <span class="speaker">Neil:</span> Frank says that at one point or another, chefs started to make
            </p>

            <p data-subtitle-index="59" data-start="221.28" data-end="223.60">
                <span class="speaker">Neil:</span> noodle dishes more Japanese.
            </p>

            <p data-subtitle-index="60" data-start="223.60" data-end="226.40">
                <span class="speaker">Neil:</span> Here, the phrase, at one point or another,
            </p>

            <p data-subtitle-index="61" data-start="226.40" data-end="229.76">
                <span class="speaker">Neil:</span> means at some <span class="word-clickable" data-word="unspecified">unspecified</span> time in the past.
            </p>

            <p data-subtitle-index="62" data-start="229.76" data-end="233.48">
                <span class="speaker">Beth:</span> They did this by tweaking Chinese noodles – in other words,
            </p>

            <p data-subtitle-index="63" data-start="233.48" data-end="237.16">
                <span class="speaker">Beth:</span> by changing them slightly to make them better, different,
            </p>

            <p data-subtitle-index="64" data-start="237.16" data-end="239.60">
                <span class="speaker">Beth:</span> or in this case, more Japanese.
            </p>

            <p data-subtitle-index="65" data-start="239.60" data-end="243.68">
                <span class="speaker">Neil:</span> By making these tweaks, adding new toppings and <span class="word-clickable" data-word="slices">slices</span> of beef or chicken,
            </p>

            <p data-subtitle-index="66" data-start="243.68" data-end="247.64">
                <span class="speaker">Neil:
            <p data-subtitle-index="67" data-start="247.64" data-end="252.32">
                <span class="speaker">Neil:</span> Here's Frank Striegl again, talking with BBC World Service's The Food Chain.
            </p>

            <p data-subtitle-index="68" data-start="252.32" data-end="254.68">
                <span class="speaker">Frank Striegl:</span> And what I find fascinating about ramen,
            </p>

            <p data-subtitle-index="69" data-start="254.68" data-end="257.52">
                <span class="speaker">Frank Striegl:</span> compared to perhaps other wonderful noodle dishes around the world,
            </p>

            <p data-subtitle-index="70" data-start="257.52" data-end="260.00">
                <span class="speaker">Frank Striegl:</span> is that ramen continues to evolve.
            </p>

            <p data-subtitle-index="71" data-start="260.00" data-end="263.96">
                <span class="speaker">Frank Striegl:</span> Unlike other Japanese foods, it's OK to push the <span class="word-clickable" data-word="boundaries">boundaries</span>.
            </p>

            <p data-subtitle-index="72" data-start="263.96" data-end="267.92">
                <span class="speaker">Beth:</span> Frank thinks that Japanese ramen continues to evolve –
            </p>

            <p data-subtitle-index="73" data-start="267.92" data-end="269.96">
                <span class="speaker">Beth:</span> to develop and change <span class="word-clickable" data-word="gradually">gradually</span>
            </p>

            <p data-subtitle-index="74" data-start="269.96" data-end="272.76">
                <span class="speaker">Beth:</span> in <span class="word-clickable" data-word="response">response</span> to new developments and ideas.
            </p>

            <p data-subtitle-index="75" data-start="272.76" data-end="275.72">
                <span class="speaker">Beth:</span> Unlike other <span class="word-clickable" data-word="traditional">traditional</span> foods such as sushi,
            </p>

            <p data-subtitle-index="76" data-start="275.72" data-end="278.96">
                <span class="speaker">Beth:</span> modern versions of ramen push the <span class="word-clickable" data-word="boundaries">boundaries</span>.
            </p>

            <p data-subtitle-index="77" data-start="278.96" data-end="280.40">
                <span class="speaker">Beth:</span> If you push the <span class="word-clickable" data-word="boundaries">boundaries</span>,
            </p>

            <p data-subtitle-index="78" data-start="280.40" data-end="284.64">
                <span class="speaker">Beth:</span> you act in a way which challenges normal <span class="word-clickable" data-word="acceptable">acceptable</span> behaviour.
            </p>

            <p data-subtitle-index="79" data-start="284.64" data-end="287.56">
                <span class="speaker">Neil:</span> Yes, noodles have changed so much since ancient times
            </p>

            <p data-subtitle-index="80" data-start="287.56" data-end="292.20">
                <span class="speaker">Neil:</span> that today you can buy them dried in a packet and simply add hot water.
            </p>

            <p data-subtitle-index="81" data-start="292.20" data-end="296.24">
                <span class="speaker">Neil:</span> But the <span class="word-clickable" data-word="flavour">flavours</span> and the noodles themselves maintain a link to the past.
            </p>

            <p data-subtitle-index="82" data-start="296.24" data-end="300.00">
                <span class="speaker">Neil:</span> Now, speaking of <span class="word-clickable" data-word="flavour">flavours</span>, what was the answer to your question, Beth?
            </p>

            <p data-subtitle-index="83" data-start="300.00" data-end="305.44">
                <span class="speaker">Beth:</span> Well, I asked you which region of China is famous for its spicy <span class="word-clickable" data-word="flavour">flavours</span>.
            </p>

            <p data-subtitle-index="84" data-start="305.44" data-end="310.64">
                <span class="speaker">Beth:</span> You were very confident with saying Sichuan and that is the correct answer.
            </p>

            <p data-subtitle-index="85" data-start="310.64" data-end="314.00">
                <span class="speaker">Beth:</span> Sichuan is a place that is famous for spicy food,
            </p>

            <p data-subtitle-index="86" data-start="314.00" data-end="317.84">
                <span class="speaker">Beth:</span> such as the Sichuan pepper and Sichuan hotpot.
            </p>

            <p data-subtitle-index="87" data-start="317.84" data-end="321.00">
                <span class="speaker">Beth:</span> OK. It's time to recap the vocabulary we've learnt.
            </p>

            <p data-subtitle-index="88" data-start="321.00" data-end="323.28">
                <span class="speaker">Beth:</span> If you give something a twist,
            </p>

            <p data-subtitle-index="89" data-start="323.28" data-end="327.80">
                <span class="speaker">Beth:</span> you change it in some small way to create something new and exciting.
            </p>

            <p data-subtitle-index="90" data-start="327.80" data-end="331.16">
                <span class="speaker">Neil:</span> The adjective <span class="word-clickable" data-word="exotic">exotic</span> means unusual and exciting
            </p>

            <p data-subtitle-index="91" data-start="331.16" data-end="333.36">
                <span class="speaker">Neil:</span> because of coming from far away.
            </p>

            <p data-subtitle-index="92" data-start="333.36" data-end="338.68">
                <span class="speaker">Beth:</span> The phrase, at one point or another means at some <span class="word-clickable" data-word="unspecified">unspecified</span> time in the past.
            </p>

            <p data-subtitle-index="93" data-start="338.68" data-end="342.76">
                <span class="speaker">Neil:</span> If you tweak something, you alter it slightly in order to improve it.
            </p>

            <p data-subtitle-index="94" data-start="342.76" data-end="346.52">
                <span class="speaker">Beth:</span> Something which evolves, develops and changes <span class="word-clickable" data-word="gradually">gradually</span>.
            </p>

            <p data-subtitle-index="95" data-start="346.52" data-end="349.28">
                <span class="speaker">Neil:</span> And finally, the <span class="word-clickable" data-word="idiom">idiom</span> to push the <span class="word-clickable" data-word="boundaries">boundaries</span>
            </p>

            <p data-subtitle-index="96" data-start="349.28" data-end="353.60">
                <span class="speaker">Neil:</span> means to do things which challenge normal <span class="word-clickable" data-word="acceptable">acceptable</span> behaviour.
            </p>

            <p data-subtitle-index="97" data-start="353.60" data-end="355.52">
                <span class="speaker">Neil:</span> Once again, our six minutes are up.
            </p>

            <p data-subtitle-index="98" data-start="355.52" data-end="359.84">
                <span class="speaker">Neil:</span> If you enjoyed the programme, why not visit our website and check out all
            </p>

            <p data-subtitle-index="99" data-start="359.84" data-end="363.28">
                <span class="speaker">Neil:</span> of the different podcasts that we have at BBC Learning English.
            </p>

            <p data-subtitle-index="100" data-start="363.28" data-end="365.00">
                <span class="speaker">Neil:</span> There's something there for everyone.
            </p>

            <p data-subtitle-index="101" data-start="365.00" data-end="367.76">
                <span class="speaker">Neil:</span> Thanks for joining us and goodbye.
            </p>

            <p data-subtitle-index="102" data-start="367.76" data-end="368.50">
                <span class="speaker">Beth:</span> Bye!
            </p>
        </div>
    </section>

    <!-- 词汇总结区块 - 纯文本 -->
    <section class="content-block" data-content-type="text-only">
        <div class="content-meta">
            <span class="text-indicator">📚 词汇总结</span>
            <span class="word-count">重点词汇回顾</span>
        </div>
        
        <div class="text-content">
            <h2>Key Vocabulary</h2>
            <dl class="vocab">
                <dt>give (something) a twist</dt>
                <dd>change or alter something in a creative way to make something new and exciting</dd>

                <dt><span class="word-clickable" data-word="exotic">exotic</span></dt>
                <dd>unusual and exciting because of coming from far away</dd>

                <dt>at one point or another</dt>
                <dd>at some <span class="word-clickable" data-word="unspecified">unspecified</span> time in the past</dd>

                <dt>tweak</dt>
                <dd>change or alter something slightly to improve it</dd>

                <dt>evolve</dt>
                <dd>develop and change <span class="word-clickable" data-word="gradually">gradually</span></dd>

                <dt>push the <span class="word-clickable" data-word="boundaries">boundaries</span></dt>
                <dd>(<span class="word-clickable" data-word="idiom">idiom</span>) do things which challenge normal <span class="word-clickable" data-word="acceptable">acceptable</span> behaviour</dd>
            </dl>
        </div>
    </section>
</article>

<!-- 词汇表弹窗 -->
<div class="glossary-popup" id="glossary-popup">
    <div class="glossary-header">
        <div>
            <h3 class="glossary-word" id="glossary-word">Word</h3>
            <span class="glossary-phonetic" id="glossary-phonetic">/wɜːrd/</span>
            <span class="glossary-pos" id="glossary-pos">n.</span>
        </div>
        <button class="glossary-close-btn" id="glossary-close-btn">×</button>
    </div>
    <div class="glossary-body" id="glossary-body">
        <div class="glossary-definition">Loading definition...</div>
    </div>
</div>

<script>
    // 完整词汇数据
    const vocabularyData = {
        "invention": {
            "word": "invention",
            "phonetic": "/ɪnˈvenʃən/",
            "partOfSpeech": "noun",
            "definition": "The action of inventing something that has never been made before, or the item that is created.",
            "contextualMeaning": "Refers to the creation of a new product, idea, or process. It implies originality and novelty.",
            "exampleSentence": "The invention of the internet completely changed how we access information.",
            "synonyms": ["creation", "discovery", "innovation"]
        },
        "fresh": {
            "word": "fresh",
            "phonetic": "/freʃ/",
            "partOfSpeech": "adjective",
            "definition": "(Of food) recently made or obtained; not canned, frozen, or otherwise preserved.",
            "contextualMeaning": "Emphasizes that food is natural and has not been processed for long-term storage, often implying better taste and quality.",
            "exampleSentence": "She prefers to buy fresh vegetables from the farmer's market.",
            "synonyms": ["new", "recent", "natural", "unprocessed"]
        },
        "popular": {
            "word": "popular",
            "phonetic": "/ˈpɒpjʊlər/",
            "partOfSpeech": "adjective",
            "definition": "Liked, admired, or enjoyed by many people or by a particular person or group.",
            "contextualMeaning": "Indicates widespread appeal and acceptance among a general audience.",
            "exampleSentence": "That new song has become very popular on social media platforms.",
            "synonyms": ["well-liked", "fashionable", "mainstream", "widespread"]
        },
        "origins": {
            "word": "origins",
            "phonetic": "/ˈɒrɪdʒɪnz/",
            "partOfSpeech": "noun (plural)",
            "definition": "The point or place where something begins, arises, or is derived.",
            "contextualMeaning": "Refers to the source, beginning, or ancestry of something, whether it be an idea, object, or person.",
            "exampleSentence": "The museum has an exhibit on the origins of human civilization.",
            "synonyms": ["beginnings", "roots", "source", "genesis"]
        },
        "recipes": {
            "word": "recipes",
            "phonetic": "/ˈresɪpiz/",
            "partOfSpeech": "noun (plural)",
            "definition": "A set of instructions for preparing a particular dish, including a list of the ingredients required.",
            "contextualMeaning": "A guide or formula for making something, most commonly used for food but can be used metaphorically for achieving a certain result.",
            "exampleSentence": "My grandmother keeps her secret family recipes in an old notebook.",
            "synonyms": ["instructions", "formula", "method", "procedure"]
        },
        "spread": {
            "word": "spread",
            "phonetic": "/spred/",
            "partOfSpeech": "verb",
            "definition": "Extend over a large or increasing area; open out from a folded position.",
            "contextualMeaning": "Can refer to the physical distribution of things over an area or the dissemination of information, ideas, or influence.",
            "exampleSentence": "News of the event began to spread quickly online.",
            "synonyms": ["disseminate", "distribute", "circulate", "extend"]
        },
        "traders": {
            "word": "traders",
            "phonetic": "/ˈtreɪdərz/",
            "partOfSpeech": "noun (plural)",
            "definition": "A person who buys and sells goods, currency, or stocks.",
            "contextualMeaning": "Refers to people engaged in commerce, often historically implying travel and the exchange of goods between different cultures.",
            "exampleSentence": "Ancient traders traveled long distances to exchange silk for spices.",
            "synonyms": ["merchants", "dealers", "merchandisers", "vendors"]
        },
        "destination": {
            "word": "destination",
            "phonetic": "/ˌdestɪˈneɪʃən/",
            "partOfSpeech": "noun",
            "definition": "The place to which someone or something is going or being sent.",
            "contextualMeaning": "The final point in a journey or the end goal of a process.",
            "exampleSentence": "After a long flight, we finally arrived at our holiday destination.",
            "synonyms": ["end-point", "goal", "target", "terminus"]
        },
        "flavour": {
            "word": "flavour",
            "phonetic": "/ˈfleɪvər/",
            "partOfSpeech": "noun",
            "definition": "The distinctive taste of a food or drink.",
            "contextualMeaning": "Can also refer to the general character or quality of something.",
            "exampleSentence": "The chef added a unique combination of herbs to give the soup a rich flavour.",
            "synonyms": ["taste", "savor", "aroma", "essence"]
        },
        "ingredients": {
            "word": "ingredients",
            "phonetic": "/ɪnˈɡriːdiənts/",
            "partOfSpeech": "noun (plural)",
            "definition": "Any of the foods or substances that are combined to make a particular dish.",
            "contextualMeaning": "The components or elements that make up a whole, whether a food, product, or abstract concept.",
            "exampleSentence": "Always read the list of ingredients to check for potential allergens.",
            "synonyms": ["components", "elements", "constituents", "parts"]
        },
        "varieties": {
            "word": "varieties",
            "phonetic": "/vəˈraɪətiz/",
            "partOfSpeech": "noun (plural)",
            "definition": "The quality or state of being different or diverse; the absence of uniformity or monotony.",
            "contextualMeaning": "Refers to a number of different types or kinds of something.",
            "exampleSentence": "The store offers a wide range of apple varieties, from sweet to tart.",
            "synonyms": ["types", "kinds", "sorts", "assortment", "diversity"]
        },
        "investigated": {
            "word": "investigated",
            "phonetic": "/ɪnˈvestɪɡeɪtɪd/",
            "partOfSpeech": "verb (past tense)",
            "definition": "Carried out a formal or systematic inquiry to discover and examine the facts of an incident, allegation, etc., so as to establish the truth.",
            "contextualMeaning": "To look into a matter deeply and methodically to find out what happened.",
            "exampleSentence": "The police investigated the cause of the mysterious fire.",
            "synonyms": ["examined", "probed", "explored", "researched"]
        },
        "uncovered": {
            "word": "uncovered",
            "phonetic": "/ʌnˈkʌvərd/",
            "partOfSpeech": "verb (past tense)",
            "definition": "Discovered something secret or previously unknown.",
            "contextualMeaning": "To reveal or bring to light something that was hidden, concealed, or not known before.",
            "exampleSentence": "The journalist uncovered a major political scandal through her research.",
            "synonyms": ["revealed", "discovered", "exposed", "unearthed"]
        },
        "exotic": {
            "word": "exotic",
            "phonetic": "/ɪɡˈzɒtɪk/",
            "partOfSpeech": "adjective",
            "definition": "Originating in or characteristic of a distant foreign country.",
            "contextualMeaning": "Describes something that is attractive or striking because it seems unusual and fascinating due to its foreign origin.",
            "exampleSentence": "She decorated her home with exotic plants from Southeast Asia.",
            "synonyms": ["foreign", "unusual", "unfamiliar", "striking"]
        },
        "association": {
            "word": "association",
            "phonetic": "/əˌsəʊsiˈeɪʃən/",
            "partOfSpeech": "noun",
            "definition": "A group of people organized for a joint purpose; a connection or cooperative link between people or organizations.",
            "contextualMeaning": "An official group or organization with a common goal, or a mental connection between ideas.",
            "exampleSentence": "He joined the local historical association to learn more about his town.",
            "synonyms": ["organization", "alliance", "league", "connection"]
        },
        "promote": {
            "word": "promote",
            "phonetic": "/prəˈməʊt/",
            "partOfSpeech": "verb",
            "definition": "Support or actively encourage (a cause, venture, or aim); further the progress of.",
            "contextualMeaning": "To help something grow, develop, or increase in popularity, often through advertising or public support.",
            "exampleSentence": "The campaign was designed to promote awareness of environmental issues.",
            "synonyms": ["encourage", "advance", "foster", "endorse", "advertise"]
        },
        "manufacturing": {
            "word": "manufacturing",
            "phonetic": "/ˌmænjʊˈfæktʃərɪŋ/",
            "partOfSpeech": "noun",
            "definition": "The process of making articles on a large scale using machinery.",
            "contextualMeaning": "Refers to the industrial production of goods from raw materials.",
            "exampleSentence": "The city's economy is heavily based on automobile manufacturing.",
            "synonyms": ["production", "construction", "fabrication", "assembly"]
        },
        "meaning": {
            "word": "meaning",
            "phonetic": "/ˈmiːnɪŋ/",
            "partOfSpeech": "noun",
            "definition": "What is meant by a word, text, concept, or action; the significance or purpose of something.",
            "contextualMeaning": "The idea or message that is intended to be conveyed.",
            "exampleSentence": "Philosophers have long debated the meaning of life.",
            "synonyms": ["significance", "sense", "definition", "implication", "purport"]
        },
        "foreign": {
            "word": "foreign",
            "phonetic": "/ˈfɒrən/",
            "partOfSpeech": "adjective",
            "definition": "Of, from, in, or characteristic of a country or language other than one's own.",
            "contextualMeaning": "Describes something that is from outside one's own country, or something that is strange and unfamiliar.",
            "exampleSentence": "It can be challenging to learn a foreign language as an adult.",
            "synonyms": ["overseas", "international", "alien", "unfamiliar"]
        },
        "localise": {
            "word": "localise",
            "phonetic": "/ˈləʊkəlaɪz/",
            "partOfSpeech": "verb",
            "definition": "Adapt (a product or content) to a specific language or culture so that it seems natural to that particular region.",
            "contextualMeaning": "To make something local in character; to modify something to fit the preferences and culture of a specific area.",
            "exampleSentence": "The company decided to localise its software for the Japanese market.",
            "synonyms": ["adapt", "customize", "tailor", "regionalize"]
        },
        "slices": {
            "word": "slices",
            "phonetic": "/slaɪsəz/",
            "partOfSpeech": "noun (plural)",
            "definition": "Thin, broad pieces of food, such as bread, meat, or cake, cut from a larger portion.",
            "contextualMeaning": "Portions cut from a whole, often implying thinness and flatness.",
            "exampleSentence": "She put a few slices of cucumber and tomato in her sandwich.",
            "synonyms": ["pieces", "sections", "portions", "shavings"]
        },
        "boundaries": {
            "word": "boundaries",
            "phonetic": "/ˈbaʊndəriz/",
            "partOfSpeech": "noun (plural)",
            "definition": "A line which marks the limits of an area; a dividing line. Can also refer to the limits of what is acceptable or possible.",
            "contextualMeaning": "Often used figuratively to refer to the limits of social conventions, rules, or personal comfort zones.",
            "exampleSentence": "Great artists often push the boundaries of what is considered traditional art.",
            "synonyms": ["limits", "borders", "frontiers", "confines"]
        },
        "gradually": {
            "word": "gradually",
            "phonetic": "/ˈɡrædʒuəli/",
            "partOfSpeech": "adverb",
            "definition": "In a gradual way; slowly; by degrees.",
            "contextualMeaning": "Describes a process that happens slowly and steadily over a period of time, not suddenly.",
            "exampleSentence": "The sky gradually became darker as the sun set.",
            "synonyms": ["slowly", "progressively", "steadily", "incrementally"]
        },
        "response": {
            "word": "response",
            "phonetic": "/rɪˈspɒns/",
            "partOfSpeech": "noun",
            "definition": "A verbal or written answer; a reaction to something.",
            "contextualMeaning": "An answer, reply, or reaction to a stimulus, question, or event.",
            "exampleSentence": "We are still waiting for a response to our official inquiry.",
            "synonyms": ["answer", "reply", "reaction", "rejoinder"]
        },
        "traditional": {
            "word": "traditional",
            "phonetic": "/trəˈdɪʃənəl/",
            "partOfSpeech": "adjective",
            "definition": "Existing in or as part of a tradition; long-established.",
            "contextualMeaning": "Describes customs, beliefs, or methods that have been passed down through generations and are considered standard or conventional.",
            "exampleSentence": "Many families have a traditional meal they eat on holidays.",
            "synonyms": ["conventional", "customary", "established", "time-honored"]
        },
        "unspecified": {
            "word": "unspecified",
            "phonetic": "/ʌnˈspesɪfaɪd/",
            "partOfSpeech": "adjective",
            "definition": "Not stated clearly or in detail.",
            "contextualMeaning": "Used to describe something that is known to exist but has not been given a specific name, time, or detail.",
            "exampleSentence": "The meeting will take place at an unspecified location to ensure privacy.",
            "synonyms": ["indefinite", "unnamed", "undetermined"]
        },
        "idiom": {
            "word": "idiom",
            "phonetic": "/ˈɪdiəm/",
            "partOfSpeech": "noun",
            "definition": "A group of words established by usage as having a meaning not deducible from those of the individual words.",
            "contextualMeaning": "A common phrase or expression whose figurative meaning is different from its literal meaning, often unique to a specific language or culture.",
            "exampleSentence": "The phrase 'it's raining cats and dogs' is a popular English idiom.",
            "synonyms": ["expression", "phrase", "colloquialism"]
        },
        "acceptable": {
            "word": "acceptable",
            "phonetic": "/əkˈseptəbəl/",
            "partOfSpeech": "adjective",
            "definition": "Able to be agreed on; suitable. Satisfactory or good enough.",
            "contextualMeaning": "Describes something that meets a certain minimum standard or is considered socially appropriate.",
            "exampleSentence": "While his performance wasn't amazing, it was acceptable for a beginner.",
            "synonyms": ["satisfactory", "adequate", "suitable", "appropriate"]
        }
    };

    // 应用功能实现
    class NoodlesArticleApp {
        constructor() {
            this.currentGlossaryWord = null;
            this.audioPlayer = null;
            this.isPlaying = false;
            this.currentSubtitleIndex = -1;
            this.highlightInterval = null;
            
            this.init();
        }

        init() {
            this.setupAudioSync();
            this.setupGlossarySystem();
            this.setupMobileOptimizations();
            console.log('🍜 Noodles Article App initialized successfully');
        }

        // 音频同步系统
        setupAudioSync() {
            this.audioPlayer = document.getElementById('article-audio');
            if (!this.audioPlayer) return;

            // 监听音频时间更新
            this.audioPlayer.addEventListener('timeupdate', () => {
                this.updateSubtitleHighlight();
            });

            // 播放状态监听
            this.audioPlayer.addEventListener('play', () => {
                this.isPlaying = true;
                this.startHighlightUpdates();
            });

            this.audioPlayer.addEventListener('pause', () => {
                this.isPlaying = false;
                this.stopHighlightUpdates();
            });

            this.audioPlayer.addEventListener('ended', () => {
                this.isPlaying = false;
                this.stopHighlightUpdates();
                this.clearAllHighlights();
            });

            // 点击字幕跳转音频
            this.setupSubtitleClick();
        }

        setupSubtitleClick() {
            const subtitleElements = document.querySelectorAll('[data-subtitle-index]');
            
            subtitleElements.forEach(element => {
                element.addEventListener('click', (e) => {
                    e.preventDefault();
                    const startTime = parseFloat(element.getAttribute('data-start'));
                    if (startTime && this.audioPlayer) {
                        this.audioPlayer.currentTime = startTime;
                        if (!this.isPlaying) {
                            this.audioPlayer.play();
                        }
                    }
                });

                // 添加视觉提示
                element.style.cursor = 'pointer';
                element.title = 'Click to jump to this part of the audio';
                
                // 悬停效果
                element.addEventListener('mouseenter', () => {
                    if (!element.classList.contains('highlighted-current')) {
                        element.style.backgroundColor = 'rgba(0,122,255,0.1)';
                    }
                });
                
                element.addEventListener('mouseleave', () => {
                    if (!element.classList.contains('highlighted-current')) {
                        element.style.backgroundColor = '';
                    }
                });
            });
        }

        updateSubtitleHighlight() {
            if (!this.audioPlayer) return;

            const currentTime = this.audioPlayer.currentTime;
            const subtitleElements = document.querySelectorAll('[data-subtitle-index]');
            
            // 清除之前的高亮
            this.clearAllHighlights();

            // 找到当前时间对应的字幕
            let foundCurrent = false;
            subtitleElements.forEach(element => {
                const startTime = parseFloat(element.getAttribute('data-start'));
                const endTime = parseFloat(element.getAttribute('data-end'));
                
                if (currentTime >= startTime && currentTime <= endTime) {
                    element.classList
                    // 滚动到当前位置
                    element.scrollIntoView({
                        behavior: 'smooth',
                        block: 'center',
                        inline: 'nearest'
                    });
                }
            });
        }

        clearAllHighlights() {
            document.querySelectorAll('.highlighted-current').forEach(el => {
                el.classList.remove('highlighted-current');
                el.style.backgroundColor = '';
            });
        }

        startHighlightUpdates() {
            // 音频播放时持续更新高亮
            this.highlightInterval = setInterval(() => {
                if (this.isPlaying) {
                    this.updateSubtitleHighlight();
                }
            }, 100);
        }

        stopHighlightUpdates() {
            if (this.highlightInterval) {
                clearInterval(this.highlightInterval);
                this.highlightInterval = null;
            }
        }

        // 词汇表系统
        setupGlossarySystem() {
            const wordElements = document.querySelectorAll('.word-clickable');
            
            wordElements.forEach(element => {
                element.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    const word = element.getAttribute('data-word');
                    this.showGlossary(word, element);
                });

                // 添加触摸反馈
                this.addTouchFeedback(element);
            });

            // 设置关闭按钮
            const closeBtn = document.getElementById('glossary-close-btn');
            if (closeBtn) {
                closeBtn.addEventListener('click', () => {
                    this.hideGlossary();
                });
            }

            // 点击外部关闭
            document.addEventListener('click', (e) => {
                if (this.currentGlossaryWord && 
                    !e.target.closest('.glossary-popup') && 
                    !e.target.classList.contains('word-clickable')) {
                    this.hideGlossary();
                }
            });

            // ESC键关闭
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && this.currentGlossaryWord) {
                    this.hideGlossary();
                }
            });
        }

        showGlossary(word, triggerElement) {
            const popup = document.getElementById('glossary-popup');
            const wordElement = document.getElementById('glossary-word');
            const phoneticElement = document.getElementById('glossary-phonetic');
            const posElement = document.getElementById('glossary-pos');
            const bodyElement = document.getElementById('glossary-body');

            if (!popup || !vocabularyData[word]) {
                console.warn('词汇未找到:', word);
                // 显示简单的提示
                this.showSimpleTooltip(triggerElement, `词汇 "${word}" 暂无释义`);
                return;
            }

            const wordData = vocabularyData[word];

            // 更新弹窗内容
            wordElement.textContent = wordData.word;
            phoneticElement.textContent = wordData.phonetic;
            posElement.textContent = wordData.partOfSpeech;

            // 生成定义和例句
            let bodyHTML = `
                <div class="glossary-definition">
                    <span class="definition-number">●</span>
                    ${wordData.definition}
                </div>
            `;

            if (wordData.contextualMeaning) {
                bodyHTML += `
                    <div class="glossary-definition">
                        <span class="definition-number">💡</span>
                        <strong>语境含义：</strong>${wordData.contextualMeaning}
                    </div>
                `;
            }

            if (wordData.exampleSentence) {
                bodyHTML += `
                    <div class="glossary-example">
                        <div class="example-text">"${wordData.exampleSentence}"</div>
                    </div>
                `;
            }

            if (wordData.synonyms && wordData.synonyms.length > 0) {
                bodyHTML += `
                    <div class="glossary-synonyms">
                        <span class="synonyms-label">同义词:</span>
                        ${wordData.synonyms.join(', ')}
                    </div>
                `;
            }

            bodyElement.innerHTML = bodyHTML;

            // 计算位置
            this.positionGlossary(popup, triggerElement);

            // 显示弹窗
            setTimeout(() => {
                popup.classList.add('show');
            }, 10);

            this.currentGlossaryWord = word;

            // 统计词汇查看次数
            this.trackWordLookup(word);
        }

        showSimpleTooltip(element, message) {
            // 创建简单提示框
            const tooltip = document.createElement('div');
            tooltip.className = 'simple-tooltip';
            tooltip.textContent = message;
            tooltip.style.cssText = `
                position: absolute;
                background: #333;
                color: white;
                padding: 8px 12px;
                border-radius: 4px;
                font-size: 14px;
                z-index: 1001;
                pointer-events: none;
            `;

            document.body.appendChild(tooltip);

            const rect = element.getBoundingClientRect();
            tooltip.style.top = (rect.bottom + window.scrollY + 5) + 'px';
            tooltip.style.left = (rect.left + window.scrollX) + 'px';

            // 3秒后自动删除
            setTimeout(() => {
                if (tooltip.parentNode) {
                    tooltip.parentNode.removeChild(tooltip);
                }
            }, 3000);
        }

        positionGlossary(popup, triggerElement) {
            const rect = triggerElement.getBoundingClientRect();
            const popupWidth = 350;
            const popupHeight = 400;

            let top, left;

            if (window.innerWidth <= 767) {
                // 移动端居中显示
                popup.style.position = 'fixed';
                popup.style.top = '50%';
                popup.style.left = '50%';
                popup.style.transform = 'translate(-50%, -50%) scale(0.95)';
            } else {
                // 桌面端智能定位
                top = rect.bottom + window.scrollY + 10;
                left = rect.left + window.scrollX;

                // 边界检查
                if (left + popupWidth > window.innerWidth) {
                    left = window.innerWidth - popupWidth - 20;
                }
                if (left < 10) {
                    left = 10;
                }
                if (top + popupHeight > window.innerHeight + window.scrollY) {
                    top = rect.top + window.scrollY - popupHeight - 10;
                }

                popup.style.position = 'absolute';
                popup.style.top = top + 'px';
                popup.style.left = left + 'px';
                popup.style.transform = 'scale(0.95)';
            }
        }

        hideGlossary() {
            const popup = document.getElementById('glossary-popup');
            if (popup && popup.classList.contains('show')) {
                popup.classList.remove('show');
                this.currentGlossaryWord = null;
            }
        }

        trackWordLookup(word) {
            // 简单的词汇查看统计
            const lookupData = JSON.parse(localStorage.getItem('wordLookups') || '{}');
            lookupData[word] = (lookupData[word] || 0) + 1;
            localStorage.setItem('wordLookups', JSON.stringify(lookupData));
        }

        // 移动端优化
        setupMobileOptimizations() {
            // 防止iOS双击缩放
            let lastTouchEnd = 0;
            document.addEventListener('touchend', (event) => {
                const now = Date.now();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);

            // 处理设备方向变化
            window.addEventListener('orientationchange', () => {
                setTimeout(() => {
                    if (this.currentGlossaryWord) {
                        this.hideGlossary();
                    }
                }, 100);
            });

            // 优化滚动性能
            const scrollElements = document.querySelectorAll('.synced-content, .glossary-body');
            scrollElements.forEach(element => {
                element.style.webkitOverflowScrolling = 'touch';
            });

            // 移动端手势支持
            this.setupMobileGestures();
        }

        setupMobileGestures() {
            let startX, startY, startTime;
            
            document.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
                startY = e.touches[0].clientY;
                startTime = Date.now();
            }, {passive: true});
            
            document.addEventListener('touchend', (e) => {
                if (!startX || !startY) return;
                
                const endX = e.changedTouches[0].clientX;
                const endY = e.changedTouches[0].clientY;
                const deltaTime = Date.now() - startTime;
                const deltaX = endX - startX;
                const deltaY = endY - startY;
                
                // 检测滑动手势
                if (Math.abs(deltaX) > Math.abs(deltaY) && 
                    Math.abs(deltaX) > 50 && 
                    deltaTime < 500) {
                    
                    if (deltaX > 0) {
                        // 右滑：后退10秒
                        this.seekAudio(-10);
                    } else {
                        // 左滑：前进10秒
                        this.seekAudio(10);
                    }
                }
                
                startX = startY = null;
            }, {passive: true});
        }

        seekAudio(deltaSeconds) {
            if (!this.audioPlayer) return;
            
            const newTime = Math.max(0, 
                Math.min(this.audioPlayer.duration || 0, 
                    this.audioPlayer.currentTime + deltaSeconds));
            
            this.audioPlayer.currentTime = newTime;
        }

        addTouchFeedback(element) {
            element.addEventListener('touchstart', () => {
                element.style.opacity = '0.7';
                element.style.transform = 'scale(0.98)';
            }, {passive: true});

            element.addEventListener('touchend', () => {
                setTimeout(() => {
                    element.style.opacity = '1';
                    element.style.transform = 'scale(1)';
                }, 150);
            }, {passive: true});
        }

        // 键盘快捷键支持
        setupKeyboardShortcuts() {
            document.addEventListener('keydown', (e) => {
                // 空格键：播放/暂停
                if (e.code === 'Space' && !e.target.matches('input, textarea')) {
                    e.preventDefault();
                    if (this.audioPlayer) {
                        if (this.isPlaying) {
                            this.audioPlayer.pause();
                        } else {
                            this.audioPlayer.play();
                        }
                    }
                }
                
                // 左右箭头：前进/后退
                if (e.code === 'ArrowLeft') {
                    e.preventDefault();
                    this.seekAudio(-5);
                }
                
                if (e.code === 'ArrowRight') {
                    e.preventDefault();
                    this.seekAudio(5);
                }
            });
        }

        // 获取学习统计
        getStats() {
            const lookupData = JSON.parse(localStorage.getItem('wordLookups') || '{}');
            const totalLookups = Object.values(lookupData).reduce((sum, count) => sum + count, 0);
            const uniqueWords = Object.keys(lookupData).length;
            
            return {
                totalLookups,
                uniqueWords,
                mostLookedUp: Object.entries(lookupData)
                    .sort(([,a], [,b]) => b - a)
                    .slice(0, 5)
                    .map(([word, count]) => ({word, count}))
            };
        }
    }

    // 初始化应用
    document.addEventListener('DOMContentLoaded', () => {
        const app = new NoodlesArticleApp();
        
        // 全局暴露应用实例（用于调试）
        window.noodlesApp = app;
        
        // 显示初始化信息
        console.log('🍜 BBC Learning English - Noodles Around the World');
        console.log('📊 学习统计:', app.getStats());
    });

    // 性能监控
    if (typeof performance !== 'undefined' && performance.mark) {
        performance.mark('article-start');
        
        window.addEventListener('load', () => {
            performance.mark('article-loaded');
            performance.measure('article-load-time', 'article-start', 'article-loaded');
            
            const measure = performance.getEntriesByName('article-load-time')[0];
            console.log(`📈 文章加载时间: ${measure.duration.toFixed(2)}ms`);
        });
    }

    // Service Worker 注册（如果支持PWA）
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('/sw.js')
                .then(registration => {
                    console.log('📱 PWA Service Worker 注册成功');
                })
                .catch(error => {
                    console.log('PWA Service Worker 注册失败:', error);
                });
        });
    }

    // 添加简单样式用于提示框
    const style = document.createElement('style');
    style.textContent = `
        .simple-tooltip {
            animation: tooltipFadeIn 0.2s ease-out;
        }
        
        @keyframes tooltipFadeIn {
            from { opacity: 0; transform: translateY(-5px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* 额外的移动端优化 */
        @media (max-width: 767px) {
            .synced-content p {
                padding: 8px;
                margin-bottom: 8px;
                border-radius: 6px;
                transition: background-color 0.2s ease;
            }
            
            .word-clickable {
                padding: 6px 8px;
                margin: 2px;
                border-radius: 6px;
                display: inline-block;
            }
            
            .speaker {
                display: block;
                margin-bottom: 4px;
                font-size: 14px;
            }
        }
        
        /* 音频播放器自定义样式 */
        .audio-player {
            border-radius: 8px;
            outline: none;
        }
        
        .audio-player::-webkit-media-controls-panel {
            background-color: var(--bg-secondary);
        }
        
        /* 无障碍优化 */
        .word-clickable:focus {
            outline: 2px solid var(--primary-color);
            outline-offset: 2px;
        }
        
        .glossary-popup:focus-within {
            box-shadow: 0 8px 24px rgba(0,0,0,0.15), 0 0 0 3px rgba(0,122,255,0.3);
        }
    `;
    document.head.appendChild(style);
</script>